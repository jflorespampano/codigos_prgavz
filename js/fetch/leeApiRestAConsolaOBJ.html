<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Mensajes</title>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
</head>

<body>
    <div class="w3-container">
        <div class="w3-row">
            <div class="w3-col l4 w3-padding">
                <div class="w3-panel w3-cyan w3-padding-16">
                    Captura de datos
                </div>
            </div>
            <div class="w3-col l8 w3-padding">
                <div class="w3-panel w3-cyan w3-padding-16">
                    Datos existentes
                </div>
                <table class="w3-table-all">
                    <thead>
                        <tr>
                            <td>id</td>
                            <td>UserId</td>
                            <td>titulo</td>
                            <td>Cuerpo</td>
                        </tr>
                    </thead>
                    <tbody id="tbl_datos">
                    </tbody>
                </table>

            </div>
        </div>
    </div>
    <!-- <input type="button" onclick="miFuncion()" value="llenar tabla"> -->
</body>
<script>

    function muestraDatosJson(DatosJson) {
        //por ahora solo mostramos en la consola los datos enviados por el servidor
        console.log(DatosJson.slice(0, 20));
    }
    function callback1(data) {
        console.log(data);
        // si data.ok es true, la peticion se resolvio corractamente por el servidor
        if (data.ok) {
            console.log("respuesta del servidor ok");
            //data.json() convierte los datos recibidos por el servidor a formato json
            data.json()
                .then(muestraDatosJson);
        } else {
            //si data.ok es falso, el servidor respondio con un c√≥digo de error
            console.log("respuesta del servidor  no ok");
        }
    }
    function leeJsonDesdeApiRest() {
        // solicirta los datos al servidor
        let p = fetch("https://jsonplaceholder.typicode.com/posts");
        console.log(p);
        // cuando la promesa se resuelva ejecuta la funcion callback1
        p.then(callback1);
    }
    window.onload = function () {
        leeJsonDesdeApiRest();
    };
</script>

</html>